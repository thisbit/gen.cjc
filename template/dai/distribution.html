<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<style type="text/css">
/* 	all code by Nick Montfort @ MIT, Digital Media & Literature	 */
body {
 background: #fff;
 color: #000;
 margin: 0 24pt 0 24pt;
 font-family: Arial, sans-serif;
 font-size: 1.2em;
}
h1 {
font-size: 1em;
margin-top:1em;
}
div {
 height: 1.6em;
 letter-spacing: .07ex;
}
a {
 color: #117;
 text-decoration: none;
}
</style>
<script language="JavaScript" type="text/javascript">
var t=0;
var n=0;
var paths=0;






// first in line (nouns)
var above='territory,good,material,origin,exclusive,natural,merchant,share person,right,asset,union,tobacco,tariff,vehicle,mean,storage,tribunal,establishment,driver,permit,agriculture,fish,licence,retail,transport,import'.split(',');

// last in line (nouns)
var below='inspection,requirement,service,transport,procedure,need,control,trade,receive,granted,excluding,import,operating,condition,exclusive privilege'.split(',');

// midle of line (verb)
var trans='command,pace,roam,trail,frame,sweep,exercise,impose,represent,support,enrol,may use,join,carry,appropriate,enforce,arise,respect,restrain,implement'.split(',');





// first in solo line (verb)
var imper='do,set,incorporate,specify,review,supply,use,enter,take,infringe,investigate,measure';
imper=imper.split(',');


// last in middle lines (verb) 
var intrans='fulfill,act,acquire,trade,prepare'.split(',');


// adds s to verbs & nouns
var s='s,'.split(',');

// mid single line
var texture='enhanced,automatic,systematic'.split(',');


// Functions Begin

function rand_range(max) {
 return Math.floor(Math.random()*(max+1));
}
function choose(array) {
 return array[rand_range(array.length-1)];
}
function path() {
 var p=rand_range(1);
 var words=choose(above);
 
 
 // change to appropriate
 if ((words=='terminal')&&(rand_range(3)==1)) {
  words='apple '+choose(trans);
 } 
 
 
 else {
  words+=s[p]+' '+choose(trans)+s[(p+1)%2];
 }
 
 
 
 words+=' the '+choose(below)+choose(s)+'.';
 return words;
}
function site() {
 var words='';
 if (rand_range(2)==1) {
  words+=choose(above);
 } else {
  words+=choose(below);
 }
 words+='s '+choose(intrans)+'.';
 return words;
}
function cave() {
 





// fills in the solo line with adjectives 
 var adjs=('international,'+choose(texture)+',accessible,least,necessary,preserved,certain of,their,of,carried,determined,applied as,such,joint,specified with,entrusted,free,even,first,regular,are,chosen').split
 
 
 
 

(',');
 var target=1+rand_range(3);
 while (adjs.length>target) {
  adjs.splice(rand_range(adjs.length),1);
  }
 var words='\u00a0\u00a0\u00a0\u00a0'+'\u2014 '+choose(imper)+' it '+adjs.join(' ')+'!';
 return words;
}
function do_line() {
 var main=document.getElementById('main');
 if (t<=9999) { // line numbers at point in time
  t+=1;
 } else {
  main.removeChild(document.getElementById('main').firstChild);
 }
 if (n===0) {
  text=' ';
 } else if (n==1) {
  paths=2+rand_range(2);
  text=path();
 } else if (n<paths) {
  text=site();
 } else if (n==paths) {
  text=path();
 } else if (n==paths+1) {
  text=' ';
 } else if (n==paths+2) {
  text=cave();
 } else {
  text=' ';
  n=0;
 }
 n+=1;
 text=text.substring(0,1).toUpperCase()+text.substring(1,text.length);
 last=document.createElement('div');
 last.appendChild(document.createTextNode(text));
 main.appendChild(last);
}
function poem() {
 setInterval(do_line, 800);
}
</script>
  <title>Song of Transport and Trade</title>
</head>
<body onload="poem()">

<div id="main">
<h1>Song of Transport and Trade</h1>
</div>
</body>
</html>


