<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<!--
The Two
Nick Montfort

Copyright 2008-2015 Nick Montfort

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved. This file is offered as-is,
without any warranty.

Python version: http://nickm.com/2/the_two.py
-->
<style type="text/css">
/* <![CDATA[ */
body {
 background: #fff;
 color: #000;
 margin: 0 2em 0 2em;
 font-family: Arial, sans-serif;
 font-size: 1.2em;
}
/* ]]> */
</style>
<script type="text/javascript">
var t=0;
var beginning=['The police officer nears the alleged perpetrator.',
'The shopper looks at the cashier.',
'The babysitter approaches the child.',
"The student knocks on the teacher's door.",
'The indigent turns to the librarian.',
'The driver calls to the pedestrian.',
'The rescuer locates the survivalist.'];
var verb=['berates',
'begs',
'confesses to',
'asks for advice from',
'seeks help from',
'expresses sympathy to',
'smacks',
'defies',
'surrenders to',
'hugs'];
var end=['They feel better after a good cry.',
'They pray together.',
'They wait in silence.',
'They break into laughter.',
'Rude gesture meets rude gesture.',
'One ends up with a broken will.',
'Six years later, neither one remembers the incident.',
'The more powerful one triumphs.',
'The underdog ends up on top.',
'Each one learns something.'];
var heshe=['He ',' She '];
var herhim=[' her.',' him.'];
function rand_range(max) {
 return Math.floor(Math.random()*(max+1));
}
function choose(array) {
 return array[rand_range(array.length-1)];
}
function story() {
 var main=document.getElementById('main');
 if (t<=55) {
  t+=1;
 } else {
  main.removeChild(document.getElementById('main').firstChild);
 }
 last=document.createElement('div');
 last.appendChild(document.createElement('br'));
 last.appendChild(document.createTextNode(choose(beginning)));
 last.appendChild(document.createElement('br'));
 middle=choose(heshe) + choose(verb) + choose(herhim);
 last.appendChild(document.createTextNode(middle));
 last.appendChild(document.createElement('br'));
 last.appendChild(document.createTextNode(choose(end)));
 main.appendChild(last);
}
function produce_stories() {
 story();
 setInterval(story, 2000);
}
</script>
<title>The Two</title>
</head>
<body onload="produce_stories();">
<div id="main"></div>
</body>
</html>
