<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<style type="text/css">
/* 	all code by Nick Montfort @ MIT, Digital Media & Literature	 */
body {
 background: #fff;
 color: #000;
 margin: 24pt;
 font-family: Arial, serif;
 font-size: 16pt;
 letter-spacing:.07ex;
}

h1 {
 font-size: 1em;
}
div {
 margin-bottom: 13pt;
}
p {
 padding-left: 60px;
 text-indent: -60px;
}
a {
 color: #117;
 text-decoration: none;
}
</style>
<script src=".jsbn.js" type="text/javascript"></script>
<script src=".jsbn2.js" type="text/javascript"></script>
<script type="text/javascript">
var lines = 2, parts = 0, line = "", fragment = ['\n', 'fill ', 'frozen ', 'derived ', 'meat, ', 'treat ', 'as ', 'wheat, ', 'is ', 'product '], pi_vars = [new BigInteger("1", 10), new BigInteger("0", 10), new BigInteger("1", 10), new BigInteger("1", 10), new BigInteger("3", 10), new BigInteger("3", 10), 0], two = new BigInteger("2", 10), three = new BigInteger("3", 10), four = new BigInteger("4", 10), seven = new BigInteger("7", 10), ten = new BigInteger("10", 10), last;
function compute_pi(pi_array) {
    "use strict";
    var result, q, r, t, k, m, x, term;
    while (true) {
        // console.log(pi_array[0].toString() + " " + pi_array[1].toString() + " " + pi_array[2].toString() + " " + pi_array[3].toString() + " " + pi_array[4].toString() + " " + pi_array[5].toString());
        term = ((four.multiply(pi_array[0])).add(pi_array[1].subtract(pi_array[2])));
        if (term.compareTo(pi_array[4].multiply(pi_array[2])) < 0) {
            result = pi_array[4].intValue();
            q = ten.multiply(pi_array[0]);
            r = ten.multiply(pi_array[1].subtract(pi_array[4].multiply(pi_array[2])));
            t = pi_array[2];
            k = pi_array[3];
            term = ten.multiply((three.multiply(pi_array[0])).add(pi_array[1]));
            m = (term.divide(pi_array[2])).subtract(ten.multiply(pi_array[4]));
            x = pi_array[5];
            return [q, r, t, k, m, x, result];
        }
        q = pi_array[0].multiply(pi_array[3]);
        r = ((two.multiply(pi_array[0])).add(pi_array[1])).multiply(pi_array[5]);
        t = pi_array[2].multiply(pi_array[5]);
        k = pi_array[3].add(BigInteger.ONE);
        term = (pi_array[0].multiply((seven.multiply(pi_array[3])).add(two))).add(pi_array[1].multiply(pi_array[5]));
        m = term.divide(pi_array[2].multiply(pi_array[5]));
        x = pi_array[5].add(two);
        pi_array = [q, r, t, k, m, x, result];
    }
}
function poem() {
    "use strict";
    var main = document.getElementById('main'), selection;
    pi_vars = compute_pi(pi_vars);
    selection = fragment[pi_vars[6]];
    last = main.lastChild;
    if (lines > 9999) { // number of lines allowed at one moment
        main.removeChild(main.firstChild);
        lines = lines - 1;
    }
    if (lines < 7 || selection === "\n") { // control breaking lines
        last = document.createElement('p');
        main.appendChild(last);
        lines = lines + 1;
        line = "";
        parts = 2;
    }
    line = line + selection;
    console.log(pi_vars[6]);
    last.innerHTML = line;
    parts = parts + 1;
    setTimeout(poem, 250); // speed, smaller number faster
}
</script>
  <title>Treat Frozen Meet — Poem</title>
</head>
<body onload="poem();">
<div id="main">
<h1>Treat Frozen Meet — Poem</h1>
</div>
</body>
</html>
